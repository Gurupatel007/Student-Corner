<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Password</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        /* Import font families */
        @font-face {
            font-family: 'Saol Display';
            src: url('path/to/SaolDisplay.ttf') format('truetype');
        }
        @font-face {
            font-family: 'GT Walsheim';
            src: url('path/to/GTWalsheim.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'GT Walsheim';
            src: url('path/to/GTWalsheimBold.ttf') format('truetype');
            font-weight: bold;
            font-style: normal;
        }
    </style>
</head>

<body>
    <div class="flex gap-12 h-screen bg-cover bg-center" style="background-image: url('public/images/64a6d9e3b3affa8513290f40_account-gradient.jpg');">
        <div class="w-1/2 h-screen flex flex-col justify-center px-24 -mt-20 leading-[6.2vw]">
            <h1 class="text-[2vw] -mb-8 text-[#faddc5] font-['Saol Display']">
                New Password
            </h1>
            <h1 class="text-[7.5vw] text-[#faddc5] font-['GT Walsheim'] font-black uppercase">
                Create
            </h1>
            <h1 class="text-[7.5vw] text-[#faddc5] font-['GT Walsheim'] font-black uppercase">
                Password
            </h1>
        </div>
        <div class="w-1/2 h-screen uppercase py-20 pr-10 flex flex-col justify-center align-center">
            <div class="bg-[#fceadc] w-full h-[88vh] p-20 flex flex-col rounded-xl gap-32">
                <form action="/update-password" id="password-update-form" method="post" class="space-y-4 animate__animated animate__fadeIn">
                    <input type="hidden" name="identifier" id="identifier" value="<%= identifier %>">
                    <div>
                        <label for="newpass" class="block font-['GT Walsheim'] font-black text-[1.4vw] text-[#3f4527] mb-2">New Password:</label>
                        <input type="password" id="newPassword" name="newPassword" placeholder="Enter New Password" required
                            class="px-5 text-[1vw] border-[1px] bg-[#fceadc] border-[#3f4527] rounded-[5px] w-full h-[6vh] focus:outline-none focus:border-zinc-700 border-opacity-30 font-['GT Walsheim']">
                    </div>
                    <div>
                        <label for="confirmpass" class="block font-['GT Walsheim'] font-black text-[1.4vw] text-[#3f4527] mb-2">Confirm Password:</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required
                            class="px-5 text-[1vw] border-[1px] bg-[#fceadc] border-[#3f4527] rounded-[5px] w-full h-[6vh] focus:outline-none focus:border-zinc-700 border-opacity-30 font-['GT Walsheim']">
                    </div>
                    <input type="submit" value="Submit" class="w-24 h-16 bg-[#c4b94f] rounded-md font-['GT Walsheim'] text-[#3f4527] font-medium uppercase text-[1.1vw] py-3">
                </form>
            </div>
        </div>
    </div>
    <script>
    document.getElementById('password-update-form').addEventListener('submit', function(e) {
        e.preventDefault();
    
        // const identifier = document.querySelector('input[name="identifier"]').value;
        // const newPassword = document.querySelector('input[name="newPassword"]').value;
        // const confirmPassword = document.querySelector('input[name="confirmPassword"]').value;
        const identifier = document.getElementById('identifier').value;
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = document.getElementById("confirmPassword").value;

        console.log("New Password:", newPassword);
        console.log("Confirm Password:", confirmPassword);
    
        if (newPassword !== confirmPassword) {
            Swal.fire(
                'Error!',
                'Passwords do not match.',
                'error'
            );
            return;
        }
    
        fetch('/update-password', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ identifier, newPassword, confirmPassword })
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (data.status === 'success') {
                Swal.fire(
                    'Success!',
                    'Password has been updated.',
                    'success'
                ).then(() => {
                    window.location.href = "/signin"; // Redirect to /signin after showing the alert
                });
            } else {
                Swal.fire(
                    'Error!',
                    data.message, // Pass the 'message' property of 'data' to Swal.fire()
                    'error'
                );
            }   
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });
    });
    </script>
</body>

</html>

 -->

 <!-- -------------------------------------- -->

 <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Password - Studentcorner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            font-family: "Montserrat", sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #18181b, #27272a, #3f3f46);
        }
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-image: linear-gradient(45deg, #a855f7, #3b82f6);
        }
    </style>
</head>

<body class="gradient-bg text-white">
    <div class="flex h-screen">
        <div class="w-1/2 h-screen flex flex-col justify-center px-24 -mt-20">
            <h1 class="text-[2vw] mb-4 text-purple-300">New Password</h1>
            <h1 class="text-[7.5vw] font-bold text-gradient mb-2">Create</h1>
            <h1 class="text-[7.5vw] font-bold text-gradient">Password</h1>
        </div>
        <div class="w-1/2 h-screen py-20 pr-10 flex flex-col justify-center items-center">
            <div class="bg-zinc-800 w-full h-[88vh] p-20 rounded-xl shadow-lg">
                <form action="/update-password" id="password-update-form" method="post" class="space-y-8 animate__animated animate__fadeIn">
                    <input type="hidden" name="identifier" id="identifier" value="<%= identifier %>">
                    <div>
                        <label for="newPassword" class="block font-bold text-[1.4vw] mb-2 uppercase">New Password:</label>
                        <input type="password" id="newPassword" name="newPassword" placeholder="Enter New Password" required
                            class="w-full px-5 py-3 text-[1vw] bg-zinc-700 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                    </div>
                    <div>
                        <label for="confirmPassword" class="block font-bold text-[1.4vw] mb-2 uppercase">Confirm Password:</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required
                            class="w-full px-5 py-3 text-[1vw] bg-zinc-700 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                    </div>
                    <button type="submit" class="w-40 h-16 bg-purple-600 hover:bg-purple-700 text-white font-semibold text-[1.1vw] rounded-md transition duration-300 uppercase">
                        Submit
                    </button>
                </form>
            </div>
        </div>
    </div>
    <script>
    document.getElementById('password-update-form').addEventListener('submit', function(e) {
        e.preventDefault();
    
        const identifier = document.getElementById('identifier').value;
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = document.getElementById("confirmPassword").value;

        console.log("New Password:", newPassword);
        console.log("Confirm Password:", confirmPassword);
    
        if (newPassword !== confirmPassword) {
            Swal.fire(
                'Error!',
                'Passwords do not match.',
                'error'
            );
            return;
        }
    
        fetch('/update-password', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ identifier, newPassword, confirmPassword })
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (data.status === 'success') {
                Swal.fire(
                    'Success!',
                    'Password has been updated.',
                    'success'
                ).then(() => {
                    window.location.href = "/signin";
                });
            } else {
                Swal.fire(
                    'Error!',
                    data.message,
                    'error'
                );
            }   
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });
    });
    </script>
</body>

</html>